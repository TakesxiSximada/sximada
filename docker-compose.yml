version: '2'

services:
  sximada:
    image: nginx
    expose:
      - "80"
      - "443"
    ports:
      - "80:80"
      - "443:443"
    volumes_from:
      - volume-sximada

  volume-sximada:
    image: busybox
    volumes:
      - /var/lib/sximada/sximada/etc/nginx/conf.d:/etc/nginx/conf.d
      - /var/lib/sximada/sximada/etc/ssl/private/sximada:/etc/ssl/private/sximada

  # djangoexample:
  #   build: djangoexample
  #   env_file:
  #     - databag/djangoexample.env
  #   volumes_from:
  #     - volume-djangoexample
  #   links:
  #     - redis:redis.internal
  #     - mysql:mysql.internal
  #   expose:
  #     - 8000
  #   ports:
  #     - 8000:8000

  # volume-djangoexample:
  #   image: busybox
  #   volumes:
  #     - /var/lib/sximada/src/djangoexample:/srv/sximada/djangoexample/src
  #     - /var/lib/sximada/djangoexample/var:/srv/sximada/djangoexample/var
  #     - /var/lib/sximada/djangoexample/log:/srv/sximada/djangoexample/log
  #     - /var/lib/sximada/djangoexample/etc:/srv/sximada/djangoexample/etc
  #     - /var/lib/sximada/djangoexample/settings:/srv/sximada/djangoexample/settings
  #     - /var/lib/sximada/djangoexample/tmp:/srv/sximada/djangoexample/tmp

  # nginx:
  #   image: nginx:latest
  #   logging:
  #     driver: fluentd
  #     options:
  #       fluentd-address: localhost:24224
  #       fluentd-tag: docker.{{.FullID}}
  #   depends_on:
  #     - fluentd
  #   expose:
  #     - 80
  #     - 443
  #   ports:
  #     - 80:80
  #     - 443:443

  # fluentd:
  #   image: fluent/fluentd:latest
  #   env_file:
  #     - databag/fluentd.env
  #   ports:
  #     - 24224:24224
  #   volumes_from:
  #     - volume-fluentd

  # apt-cacher-ng:
  #   build: apt-cacher-ng
  #   logging:
  #     driver: fluentd
  #     options:
  #       fluentd-address: localhost:24224
  #       fluentd-tag: docker.{{.FullID}}
  #   depends_on:
  #     - fluentd
  #   ports:
  #     - 3142:3142
  #   volumes_from:
  #     - volume-apt-cacher-ng

  # volume-fluentd:
  #   image: busybox:latest
  #   volumes:
  #     - /var/lib/sximada/fluentd/fluentd/etc:/fluentd/etc
  #     - /var/lib/sximada/fluentd/fluentd/plugins:/fluentd/plugins

  # volume-apt-cacher-ng:
  #   image: busybox:latest
  #   volumes:
  #     - /var/lib/sximada/apt-cacher-ng/var/cache/apt-cacher-ng:/var/cache/apt-cacher-ng

  # rundeck:
  #   image: jordan/rundeck:latest

  # elasticsearch:
  #   image: elasticsearch:latest

  # mongodb:
  #   image: mongo:latest

  # postgresql:
  #   image: postgres:latest

  # logstash:
  #   image: logstash:latest

  # rabbitmq:
  #   image: rabbitmq:latest

  # redis:
  #   image: redis:latest

  # mysql:
  #   image: mysql:latest
  #   env_file:
  #     - databag/mysql.env
  #   volumes_from:
  #     - volume-mysql

  # volume-mysql:
  #   image: busybox
  #   volumes:
  #     - /var/lib/sximada/mysql/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d
  #     - /var/lib/sximada/mysql/var/lib/mysql:/var/lib/mysql
  #     - /var/lib/sximada/mysql/var/log/mysql:/var/log/mysql

  # fake_sns:
  #   build: docker-fake-sns

  # fake-s3:
  #   image: lphoward/fake-s3:latest
  #   volumes_from:
  #     - volume-fake-s3

  # volume-fake-s3:
  #   image: busybox:latest
  #   volumes:
  #     - /var/lib/sximada/fake-s3/fakes3_root:/fakes3_root

  # openstack-swift:
  #   image: serverascode/swift-onlyone

  # node:
  #   image: node:latest

  # wordpress:
  #   image: wordpress:latest

  # httpd:
  #   image: httpd:latest

  # java:
  #   image: java:latest

  # python:
  #   image: python:latest

  # tomcat:
  #   image: tomcat:latest

  # php:
  #   image: php:latest

  # golang:
  #   image: golang:latest

  # alpine:
  #   image: alpine:latest

  # haproxy:
  #   image: haproxy:latest

  # mariadb:
  #   image: mariadb:latest

  # ruby:
  #   image: ruby:latest

  # rails:
  #   image: rails:latest

  # memcached:
  #   image: memcached:latest

  # cassandra:
  #   image: cassandra:latest

  # cassandra:
  #   image: cassandra:latest

  # kibana:
  #   image: kibana:latest

  # sentry:
  #   image: sentry:latest

  # redmine:
  #   image: redmine:latest

  # jenkins:
  #   image: jenkins:latest

  # rethinkdb:
  #   image: rethinkdb:latest

  # haskell:
  #   image: haskell:latest

  # clojure:
  #   image: clojure:latest

  # julia:
  #   image: julia:latest

  # erlang:
  #   image: erlang:latest

  # aerospike:
  #   image: aerospike:latest

  # owncloud:
  #   image: owncloud:latest

  # mono:
  #   image: mono:latest

  # odoo:
  #   image: odoo:latest

  # tensorflow:
  #   image: b.gcr.io/tensorflow/tensorflow:latest

  # google-auth-proxy:
  #   image: a5huynh/google-auth-proxy

  # ffmpeg:
  #   image: cellofellow/ffmpeg

  # powerdns:
  #   image: tutum/powerdns
  #   # image: secns/pdns:latest

  # tor:
  #   image: chriswayg/tor-alpine

  # registry:
  #   image: registry:2.0

  # warehouse:
  #   build: warehouse

  # npm-proxy-cache:
  #   image: kudoz/npm-proxy-cache:latest

  # # gitorious:
  # #   build: gitorious-docker

  # docker-python:
  #   build: docker-python

  # sinopia:  # Private npm repository server
  #   image: rnbwd/sinopia

  # jupyter:  # jupyter notebook
  #   image: jupyter/notebook
  #   volumes_from:
  #     - volume-jupyter
  #   logging:
  #     driver: fluentd
  #     options:
  #       fluentd-address: localhost:24224
  #       fluentd-tag: docker.{{.FullID}}
  #   depends_on:
  #     - fluentd
  #   expose:
  #     - 8888
  #   ports:
  #     - 8888:8888

  # volume-jupyter:
  #   image: busybox:latest
  #   volumes:
  #     - /var/lib/sximada/jupyter/notebooks:/notebooks

  # mitmproxy:
  #   image: mitmproxy/mitmproxy:latest
  #   expose:
  #     - 8080
  #     - 8081

  # volume-mitmproxy:
  #   image: busybox:latest
  #   volumes:
  #     - /var/lib/sximada/mitmproxy/certs:/certs
